<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 04</title>
    <style type="text/css">
    ul,li{
        list-style: none;
    }
    li{
        width: 30px;
        height: 30px;
        float: left;
        background: red;
        color: #fff;
        text-align: center;
        line-height: 30px;
        margin-right: 10px;
    }
    </style>
  </head>
<body>
<div>
    <input type="text" id="num"></input>
    <button id="left-in">左侧入</button>
    <button id="right-in">右侧入</button>

    <button id="left-out">左侧出</button>
    <button id="right-out">右侧出</button>
</div>
<ul id="queue">
    <li>10</li>
    <li>3</li>
    <li>7</li>
    <li>12</li>
    <li>11</li>
    <li>30</li>
</ul>
<script type="text/javascript">
    var queue = document.getElementById("queue");

    function valid(num) {       
        if(num.trim() == "" || isNaN(num)) {
            alert("请输入数字");
            return false;
        }else{
            return true;
        }
    }

    function createNum() {
        var num = document.getElementById("num").value;
        if(!valid(num)) return false;

        var li = document.createElement("li");
        li.innerHTML = num;

        return li;
    }

    document.getElementById("left-in").onclick = function (){
        var li = createNum();
        var queue = document.getElementById("queue");

        if(li){
            queue.insertBefore(li, queue.firstChild);
        }
        
    }

    document.getElementById("right-in").onclick = function (){
        var li = createNum();
        var queue = document.getElementById("queue");

        if(li){
            queue.appendChild(li);
        }     
    }

    document.getElementById("left-out").onclick = function (){
        var first = queue.getElementsByTagName("li")[0];

        alert(first.innerHTML);
        queue.removeChild(first);  
    }

    document.getElementById("right-out").onclick = function (){
        var last = queue.getElementsByTagName("li")[queue.children.length-1];

        alert(last.innerHTML);
        queue.removeChild(last);
    }

    // var lis = document.querySelectorAll("#queue li");

    // for(var i=0; i<lis.length; i++){
    //     var li = lis[i];
    //     li.onclick = function () {
    //         this.remove();
    //     }
    // }
    queue.addEventListener("click", function (e){
        if(e.target.nodeName.toLowerCase() == "li"){
            e.target.remove();
        }
    })

</script>
</body>
</html>